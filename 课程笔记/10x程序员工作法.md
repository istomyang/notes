# 课程笔记：10x程序员工作法

再读：01 | 10x程序员是如何思考的？

## 以终为始

践行“以终为始”就是在做事之前，先考虑结果，根据结果来确定要做的事情。—— 02

【 先宏观设计，再微观设计。所以先干活，是一个很差的工作习惯。 】

DoD（Definition of Done，完成的定义）：跟你的领导和同事先确定好完成的定义。 —— 03

【 DoD 本质上是一个共识机制，定义工作完成的标准，进度同步 和 汇报工作 就简单很多了。 】

---

04

在做任何需求或任务之前，先定好验收标准。

验收标准给出了这个需求最基本的测试用例，它保证了开发人员完成需求最基本的质量。

验收标准非常重要的一环是异常流程的描述。

---

05

写代码是程序员的职责，但我们更有义务交付一个可运行的软件。

如果想将每个程序员编写的代码很好地组合在一起，我们就必须做一件事：集成。

问题：集成不是一件容易的事，需要精英参与，需要很长时间，如果每天都进行集成，这是想都不敢想的事情。

这是一个行业中常见的痛点，所以，就会有人不断地尝试改进，最先取得的突破是“每日构建”。

1996 年，Steve McConnel 出版了一本著作《Rapid Development》，国内译作《快速软件开发》。在这本书中，作者首次提出了解决集成问题的优秀实践：Daily Build，每日构建。通过这个名字，我们便不难看出它的集成策略，即每天集成一次。

每日构建背后的逻辑很简单：既然一段时间累积下来的改动量太过巨大，那一天的时间，累积的改动量就小多了，集成的难度也会随之降低。

基于这样的想法，有人尝试着让开发和集成同时进行，诞生了一个关于集成的全新实践：持续集成。

有人编写了一个脚本，定期去源码服务器上拉代码，出现程序更新时，就自动完成构建。后来，人们发现这段脚本与任何具体项目都是无关的。于是，把它进一步整理并发布出来，逐步迭代发展成为今天广为人知的持续集成服务器。

之后人们更是以持续集成为基础，进一步拓展出持续交付的概念。

重新定义 开发的完成：尽早把代码和已有代码集成到一起，而不应该等着所有代码都开发完了，再去做提交。

具体做法：任务分解。

---

06

IT 行业中大多数人的专业程度是不够的。我们必须要有自己的独立思考，多问几个为什么，尽可能减少掉到“坑”里之后再求救的次数。

如何与与产品经理交流：以终为始。我们是要做产品，那就需要倒着思考，这个产品会给谁用，在什么场景下怎么用呢？

这个问题在 IT 行业诞生之初并不是一个显学，因为最初的 IT 行业多是为企业服务的。企业开发的一个特点是，有人有特定的需求。在这种情况下，开发团队只要把需求分析清楚就可以动手做了，在这个阶段，团队中的一个关键角色是业务分析师。即便开发出来的软件并不那么好用，企业中强行推动，最终用户也就用了。后来，面向个人的应用开始出现。在 PC 时代和早期的互联网时代，软件开发还基本围绕着专业用户的需求，大部分软件只要能解决问题，大家还是会想办法用起来的。但是随着互联网深入人心，软件开始向各个领域蔓延。越来越多的人进入到 IT 行业，不同的人开始在各个方向上进行尝试。这时候，软件开发的主流由面向确定性问题，逐渐变成了面向不确定性问题。

IT 行业是这样一个有趣的行业，一旦一个问题变成通用问题，就有人尝试总结各种最佳实践，一旦最佳实践积累多了，就会形成一套新的方法论。敏捷开发的方法论就是如此诞生的，这次也不例外。

精益创业：在尽可能少浪费的前提下，面向不确定性创造新事物。

既然是不确定的，那你唯一能做的事情就是“试” —— 开发（build）- 测量（measure）- 认知（learn）。

MVP（Minimum Viable Product）。简言之，少花钱，多办事。

许多软件团队都会陷入一个非常典型的误区，不管什么需求都想做出来看看，殊不知，把软件完整地做出来是最大的浪费。

精益创业提供给我们的是一个做产品的思考框架，我们能够接触到的大多数产品都可以放在这个框架内思考。

有了框架结构，我们的生活就简单了，当产品经理要做一个新产品或是产品的一个新特性，我们就可以用精益创业的这几个概念来检验一下产品经理是否想清楚了。比如，你要做这个产品特性，你要验证的东西是什么呢？他要验证的目标是否有数据可以度量呢？要解决的这个问题是不是当前最重要的事情，是否还有其他更重要的问题呢？

一句话：默认所有需求都不做，直到弄清楚为什么要做这件事。

---

07

不同角色工作上真正的差异是上下文的不同。

虽然写的代码都一样，但你看到的是树木，人家看到的是森林，他更能从全局思考。

我并不是靠技术能力解决了问题，而是凭借对需求的理解把这个问题绕过去了。

扩大自己工作的上下文，别把自己局限在一个“程序员”的角色上。

---

08

在军事上，人们将其称为沙盘推演，或沙盘模拟。

军队通过沙盘模拟军事双方的对战过程，发现战略战术上存在的问题。

在动手做一件事之前，先推演一番。

---

09

当事情复杂到一定程度时，简单地靠感觉是很难让人相信的。

从数字上看，好的系统应该是“死水一潭”。

问一下自己，我的工作是不是可以用数字衡量。

---

10

迭代 0：项目的准备阶段，我们就可以把需要提前准备好的各项内容，在这个阶段准备好。

需求方面：

- 细化过的迭代 1 需求

- 用户界面和用户交互

技术方面：

- 基本技术准备：持续集成 和 测试。

- 发布准备：数据库迁移、发布工作。

在迭代 0 时，将准备工作做好，后续你的一切工作就会变得井然有序，出现的简单问题会很快地被发现，所有人都在一种有条不紊的工作节奏中。

---

答疑解惑 | 如何管理你的上级？

要做什么是需求，怎么做是技术。与产品经理要确认的是，这个需求是不是合理，该不该做。技术上能否实现，这是开发团队要考虑的事情，并不是产品经理说事的理由。

还有一种情况是，需求确实合理，但技术实现的成本极高，所需花费的时间很长。在这种情况下，你和产品经理之间很难互相说服。

---

划重点 | 关于“以终为始”，你要记住的9句话


## 任务分解

### 11 | 向埃隆·马斯克学习任务分解

动手做一个工作之前，请先对它进行任务分解。

### 12 | 测试也是程序员的事吗？

对于每个程序员来说，只有在开发阶段把代码和测试都写好，才有资格说，自己交付的是高质量的代码。

多写单元测试。

### 13 | 先写测试，就是测试驱动开发吗？

测试驱动开发（Test Driven Development）：先写测验、写代码完成功能、重构。

因为重构和测试的互相配合，它会驱动着你把代码写得越来越好。这是对“驱动”一词最粗浅的理解。

我们通常会写一个假的类，模拟被依赖那个类，因为它是假的，我们会让它返回固定的值，使用这样的类创建出来的对象，我们一般称之为 Stub 对象。—— Mock 框架诞生了。

它之所以没有用原来 Stub 这个名字，是因为这样的 Mock 对象往往有一个更强大的能力：验证这个 Mock 对象在方法调用过程中的使用情况，比如调用了几次。

Mock 对象的做法面对 static 时行不通，因为没法继承。

一个好的解决方案是尽量不写 static 方法。限制它的使用，除非你的 static 方法是不涉及任何状态而且行为简单，比如，判断字符串是否为空。否则，不要写 static 方法。你看出来了，这样的 static 方法更适合做库函数。所以，我们日常写应用时，能不用尽量不用。

### 14 | 大师级程序员的工作秘笈

只有把任务分解到很小，才有可能做到小步提交。你能把任务分解到很小，其实是证明你已经想清楚了。而大多数程序员之所以开发效率低，很多时候是没想清楚就动手了。

很多人看了一些 TDD 的练习觉得很简单，但自己动起手来却不知道如何下手。中间就是缺了任务分解的环节。

一个经过分解后的任务，需要关注的内容是有限的，我们就可以针对着这个任务，把方方面面的细节想得更加清晰。

如果你懂得任务分解，每一个分解出来的任务要改动的代码都不会太多，影响都在一个可控的范围内，代码都可以很快地合并到开发的主分支上，也就没有必要拉分支了。

在我的实际工作中，我带的团队基本上都会采用基于主分支的策略。只有在做一些实验的时候，才会拉出一个开发分支来，但它并不是常态。

【 我的理解：任务分解，一步步细化，保证每一次提交都是可以运行的。刚开始，设计好最上层的接口，提交，接着分别设计各个模块的下一层接口，各各提交，依然是可以运行的，接着继续细化，继续提交，所以每一次提交都是进一步细化，并且是能运行的状态。 】


### 17 | 程序员也可以“砍”需求吗？

砍需求，你直接砍肯定不行，你要先任务分解，拆开后再砍。

任务工期估算的前提就是任务分解。

许多团队真正的困境在于，在开发过程中缺少需求分解的环节。在这种情况下，需求的管理基本单位就是一个主题，既然是基本单位，那就是一个不可分割的整体。团队就被生生绑死在一个巨大的需求上，没有回旋的余地。


### 18 | 需求管理：太多人给你安排任务，怎么办？

就凭一句“老板说的”，我们就可以判断出，产品经理缺乏对需求管理应有的理解。

他给你的需求在他工作的上下文中，确实是最重要的内容了。但当有多个需求来源时，我们该如何确认哪个需求是最重要的呢？这时，才到了真正需要老板出场的时刻。：我资源有限，需要将这两个需求排个序，看哪个更重要。我的上下文有限，需要你帮我判断一下。


### 19 | 如何用最小的代价做产品？

得益于原型工具的快速发展，我们用一个原型工具做出了相对完整的用户界面，而且把各种交互流都做出来了。在用户看来，这几乎就是完整的软件了。

这个团队验证了一大堆的想法，而代码却是一行都没有写，所有花费的工作量都是有针对性的验证。

程序员经常愿意用自己的代码解决问题，而写代码通常是代价非常高的解决方案，它应该成为最后的产品解决方案。

做程序员出身的人，对软件系统的认识总是一个模块一个模块的，相对比较弱的方面是缺少一个完整的图景。

但从产品可行的角度，我们需要转换一下思路，不是一个模块做得有多完整，而一条用户路径是否通畅。

想要在实践中运用好最小可行产品的理念，就是要用最小的代价找到一条可行的路径。最小的代价就是能不做的事就不做，能简化的事情就简化。

### 总结

答疑解惑 | 如何分解一个你不了解的技术任务？

划重点 | 关于“任务分解”，你要重点掌握哪些事？


## 沟通反馈

### 20 | 为什么世界和你的理解不一样

这几乎是很多程序员讲东西的通病：讲东西直奔细节。

我在面试中也经常遇到过类似的情况，一些候选人上来就给我讲技术细节，我对他做过的系统一无所知，所以，我只好打断他，让他先把背景给我介绍一下。

再举一个我们身边的例子，能做程序员的人，大多是很聪明的人， 当几个人一起讨论问题时，别人往往刚开了个头，他就认为自己已经理解了别人的想法，然后开始表达自己的观点。

沟通反馈就是改善编码、解码以及算法的方式。


### 21 | 你的代码为谁而写？

写代码的目的是与人沟通，因为我们要在一个团队里与人协同工作。

用业务的语言写代码。


### 22 | 轻量级沟通：你总是在开会吗？

凡是效果特别好的会议，基本上都是用来做信息同步的。

会议之所以给人留下如此不堪的印象，一个重要的原因是，真正参与讨论的人并不多。

改善会议的第一个行动项是，减少参与讨论的人数。

我们的第二个行动项是，如果你要讨论，找人面对面沟通。

只说三件事：
1. 我昨天做了什么？
2. 我今天打算做什么？
3. 我在过程中遇到了什么问题，需要请求帮助。

### 23 | 可视化：一种更为直观的沟通方式

ThoughtWorks 技术雷达是由 ThoughtWorks 技术咨询委员会（Technology Advisory Board）编写的一份技术趋势报告，每 6 个月发布一次。ThoughtWorks 的项目多样性足够丰富，所以它能够发现诸多技术趋势。因此，相比于行业中其它的预测报告，技术雷达更加具体，更具可操作性。


### 24 | 快速反馈：为什么你们公司总是做不好持续集成？

持续集成的本质：尽快得到工作反馈。

不能把检查只放到 CI 服务器上执行。

用好本地构建脚本（build script），保证各种各样的检查都可以在本地环境执行。

【 既然是快速的反馈，寻找那些可能导致的缓慢点，然后优化掉。 】


### 25 | 开发中的问题一再出现，应该怎么办？

这种把过程还原，进行研讨与分析的方式，就是复盘。

所有给出的行动项应该都是可检查的，而不是一些无法验证的内容。


### 26 | 作为程序员，你也应该聆听用户声音

而作为一个程序员，欠缺用户视角，在与产品经理的交流中，你是不可能有机会的，因为他很容易用一句话就把你打败：“这就是用户需求。”

谁离用户近，谁就有发言权，无论你的角色是什么。


### 27 | 尽早暴露问题： 为什么被指责的总是你？

### 28 | 结构化：写文档也是一种学习方式




















## 自动化